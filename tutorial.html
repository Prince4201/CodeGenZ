<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tutorials | CodeGenZ AI</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Space+Grotesk:wght@500;600&display=swap">
    <style>
        :root {
            --primary: #7e6fff;
            --primary-light: #a594ff;
            --primary-dark: #6a5af9;
            --secondary: #00d4ff;
            --accent: #ff4d88;
            --dark-bg: #0f0f15;
            --darker-bg: #0a0a0f;
            --card-bg: #1a1a24;
            --card-hover: #222230;
            --border: #2d2d3a;
            --text-primary: #f0f0ff;
            --text-secondary: #b8b8d0;
            --success: #00ffaa;
            --warning: #ffcc00;
            --danger: #ff4d4d;
            --code-bg: #12121a;
            --sidebar-width: 280px;
            --transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.1);
            --genz-font: 'Space Grotesk', sans-serif;
            --main-font: 'Poppins', sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: var(--main-font);
        }

        body {
            background-color: var(--dark-bg);
            color: var(--text-primary);
            display: flex;
            min-height: 100vh;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(126, 111, 255, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(0, 212, 255, 0.1) 0%, transparent 20%);
        }

        /* Sidebar - GenZ Glassmorphism */
        .sidebar {
            width: var(--sidebar-width);
            background: rgba(15, 15, 21, 0.8);
            backdrop-filter: blur(10px);
            height: 100vh;
            position: fixed;
            left: 0;
            top: 0;
            padding: 20px 0;
            border-right: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            z-index: 100;
            transition: var(--transition);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 0 20px 20px;
            margin-bottom: 20px;
            border-bottom: 1px solid var(--border);
        }

        .logo-icon {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            width: 42px;
            height: 42px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            flex-shrink: 0;
        }

        .logo-text {
            font-size: 1.5rem;
            font-weight: 700;
            font-family: var(--genz-font);
            background: linear-gradient(to right, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -0.5px;
        }

        .sidebar-menu {
            padding: 0 10px;
            flex-grow: 1;
            overflow-y: auto;
        }

        .menu-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 16px;
            border-radius: 10px;
            margin-bottom: 6px;
            cursor: pointer;
            transition: var(--transition);
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        .menu-item:hover {
            background: rgba(126, 111, 255, 0.15);
            color: var(--primary-light);
            transform: translateX(5px);
        }

        .menu-item.active {
            background: rgba(126, 111, 255, 0.2);
            color: var(--primary);
            font-weight: 500;
            border-left: 3px solid var(--primary);
        }

        .menu-item i {
            width: 22px;
            text-align: center;
            font-size: 1rem;
        }

        .sidebar-footer {
            padding: 15px 20px 0;
            border-top: 1px solid var(--border);
            color: var(--text-secondary);
            font-size: 0.8rem;
            margin-top: auto;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: var(--sidebar-width);
            padding: 25px;
            transition: var(--transition);
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .header h1 {
            font-size: 2rem;
            font-weight: 700;
            font-family: var(--genz-font);
            background: linear-gradient(to right, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -0.5px;
        }

        .user-controls {
            display: flex;
            gap: 12px;
        }

        .btn {
            background: rgba(26, 26, 36, 0.8);
            border: 1px solid var(--border);
            color: var(--text-primary);
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: var(--transition);
            font-size: 0.9rem;
            backdrop-filter: blur(5px);
        }

        .btn:hover {
            background: rgba(126, 111, 255, 0.15);
            border-color: var(--primary);
            transform: translateY(-2px);
        }

        .btn i {
            font-size: 0.9rem;
        }

        /* Dashboard Grid */
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .card {
            background: var(--card-bg);
            border-radius: 16px;
            border: 1px solid var(--border);
            overflow: hidden;
            transition: var(--transition);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.3);
            background: var(--card-hover);
        }

        .card-header {
            padding: 18px 22px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .card-header h2 {
            font-size: 1.2rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
            font-family: var(--genz-font);
        }

        .card-body {
            padding: 22px;
        }

        /* Tutorial Cards */
        .tutorial-card {
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .tutorial-image {
            height: 160px;
            background-size: cover;
            background-position: center;
            border-radius: 12px;
            margin-bottom: 15px;
            position: relative;
            overflow: hidden;
        }

        .tutorial-image::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);
        }

        .tutorial-difficulty {
            position: absolute;
            top: 12px;
            right: 12px;
            background: rgba(0,0,0,0.7);
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .tutorial-difficulty.beginner {
            color: var(--success);
        }

        .tutorial-difficulty.intermediate {
            color: var(--warning);
        }

        .tutorial-difficulty.advanced {
            color: var(--danger);
        }

        .tutorial-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 8px;
            font-family: var(--genz-font);
        }

        .tutorial-description {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 15px;
            flex-grow: 1;
        }

        .tutorial-meta {
            display: flex;
            justify-content: space-between;
            color: var(--text-secondary);
            font-size: 0.85rem;
        }

        /* Input Section */
        .input-section {
            grid-column: span 2;
        }

        .instructions {
            background: rgba(26, 26, 36, 0.7);
            border-left: 4px solid var(--primary);
            padding: 16px 18px;
            border-radius: 12px;
            margin-bottom: 20px;
            display: flex;
            gap: 12px;
            backdrop-filter: blur(5px);
        }

        .instructions i {
            color: var(--primary);
            font-size: 1.2rem;
            margin-top: 3px;
            flex-shrink: 0;
        }

        .instructions p {
            margin-bottom: 8px;
            color: var(--text-primary);
            line-height: 1.6;
            font-size: 0.95rem;
        }

        .instructions strong {
            color: var(--primary-light);
        }

        .form-group {
            margin-bottom: 18px;
        }

        label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1rem;
        }

        textarea#questionInput {
            width: 100%;
            padding: 16px;
            border: 1px solid var(--border);
            border-radius: 12px;
            font-size: 15px;
            min-height: 140px;
            resize: vertical;
            transition: var(--transition);
            background: rgba(26, 26, 36, 0.7);
            color: var(--text-primary);
            font-family: 'Fira Code', monospace;
            backdrop-filter: blur(5px);
        }

        textarea#questionInput:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(126, 111, 255, 0.2);
        }

        textarea#questionInput::placeholder {
            color: #6b6b8a;
            font-family: var(--main-font);
        }

        button#askButton {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 16px 22px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            width: 100%;
            box-shadow: 0 4px 15px rgba(126, 111, 255, 0.3);
            font-family: var(--genz-font);
            letter-spacing: 0.5px;
        }

        button#askButton:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(126, 111, 255, 0.4);
            background: linear-gradient(135deg, var(--primary-light), var(--primary));
        }

        button#askButton:active {
            transform: translateY(0);
        }

        button#askButton:disabled {
            background: #6b6b8a;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Output Section */
        .output-section {
            grid-column: span 2;
        }

        .output-container {
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid var(--border);
            background: rgba(26, 26, 36, 0.7);
            backdrop-filter: blur(5px);
        }

        #outputArea {
            padding: 25px;
            min-height: 250px;
            white-space: pre-wrap;
            word-wrap: break-word;
            line-height: 1.7;
            font-size: 15px;
            background: transparent;
            max-height: 500px;
            overflow-y: auto;
        }

        #outputArea::-webkit-scrollbar {
            width: 8px;
        }

        #outputArea::-webkit-scrollbar-track {
            background: rgba(26, 26, 36, 0.5);
            border-radius: 4px;
        }

        #outputArea::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 4px;
        }

        #outputArea p {
            margin-bottom: 16px;
        }

        #outputArea code {
            background: var(--code-bg);
            color: var(--secondary);
            padding: 2px 8px;
            border-radius: 6px;
            font-family: 'Fira Code', monospace;
            font-size: 14px;
            display: inline-block;
            margin: 4px 0;
        }

        #outputArea pre {
            background: var(--code-bg);
            padding: 12px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 12px 0;
            border: 1px solid var(--border);
        }

        #outputArea pre code {
            background: transparent;
            padding: 0;
            color: var(--text-primary);
        }

        .loading-indicator {
            text-align: center;
            padding: 25px;
            display: none;
        }

        .spinner {
            width: 45px;
            height: 45px;
            border: 4px solid rgba(126, 111, 255, 0.2);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .error-message {
            color: var(--danger);
            background: rgba(255, 77, 77, 0.1);
            padding: 16px;
            border-radius: 12px;
            margin: 12px 0;
            border-left: 4px solid var(--danger);
            font-weight: 500;
            display: flex;
            gap: 10px;
            align-items: center;
            font-size: 0.95rem;
        }

        .error-message i {
            font-size: 1.2rem;
        }

        /* Mobile Menu Button */
        .mobile-menu-btn {
            display: none;
            position: fixed;
            top: 15px;
            left: 15px;
            z-index: 101;
            background: var(--primary);
            color: white;
            width: 45px;
            height: 45px;
            border-radius: 12px;
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(126, 111, 255, 0.4);
            transition: var(--transition);
        }

        .mobile-menu-btn:hover {
            transform: scale(1.1);
        }

        /* Responsive Design */
        @media (max-width: 1100px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .input-section, .output-section {
                grid-column: span 1;
            }
        }

        @media (max-width: 900px) {
            .sidebar {
                transform: translateX(-100%);
                opacity: 0;
                z-index: 100;
            }
            
            .sidebar.open {
                transform: translateX(0);
                opacity: 1;
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .mobile-menu-btn {
                display: flex;
                align-items: center;
                justify-content: center;
            }
        }

        @media (max-width: 600px) {
            .main-content {
                padding: 20px 15px;
            }
            
            .header h1 {
                font-size: 1.7rem;
            }
            
            .card-header h2 {
                font-size: 1.1rem;
            }
        }

        @media (max-width: 400px) {
            .user-controls {
                width: 100%;
            }
            
            .btn {
                flex: 1;
                justify-content: center;
            }
        }

        /* Gen-Z Animations */
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .floating {
            animation: float 3s ease-in-out infinite;
        }

        /* Pulse animation for interactive elements */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .pulse:hover {
            animation: pulse 1.5s infinite;
        }
    </style>
</head>
<body>
    <!-- Mobile Menu Button -->
    <button class="mobile-menu-btn" id="mobileMenuBtn">
        <i class="fas fa-bars"></i>
    </button>
    
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="logo">
            <div class="logo-icon floating">
                <i class="fas fa-robot"></i>
            </div>
            <div class="logo-text">CodeGenZ</div>
        </div>
        
        <div class="sidebar-menu">
            <div class="menu-item" onclick="window.location.href='index.html'">
                <i class="fas fa-home"></i>
                <span class="menu-text">Dashboard</span>
            </div>
            <div class="menu-item" onclick="window.location.href='index.html#historySection'">
                <i class="fas fa-history"></i>
                <span class="menu-text">History</span>
            </div>
            <div class="menu-item active">
                <i class="fas fa-book"></i>
                <span class="menu-text">Tutorials</span>
            </div>
            <div class="menu-item" onclick="window.location.href='playground.html'">
                <i class="fas fa-code"></i>
                <span class="menu-text">Playground</span>
            </div>
            <div class="menu-item" id="settingsBtn">
                <i class="fas fa-cog"></i>
                <span class="menu-text">Settings</span>
            </div>
        </div>
        
        <div class="sidebar-footer">
            <p>CodeGenZ AI v3.0</p>
            <p>Powered by Gemini API</p>
        </div>
    </div>
    
    <!-- Main Content -->
    <div class="main-content">
        <div class="header">
            <h1>Learn to Code</h1>
            <div class="user-controls">
                <button class="btn">
                    <i class="fas fa-search"></i>
                    <span>Search</span>
                </button>
            </div>
        </div>
        
        <div class="dashboard">
            <!-- Tutorial Cards -->
            <div class="card tutorial-card">
                <div class="tutorial-image" style="background-image: url('https://images.unsplash.com/photo-1555066931-4365d14bab8c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80');">
                    <span class="tutorial-difficulty beginner">Beginner</span>
                </div>
                <div class="card-body">
                    <h3 class="tutorial-title">JavaScript Fundamentals</h3>
                    <p class="tutorial-description">Learn the basics of JavaScript including variables, functions, and control flow in this comprehensive beginner's guide.</p>
                    <div class="tutorial-meta">
                        <span><i class="far fa-clock"></i> 2h 15m</span>
                        <span><i class="far fa-star"></i> 4.8/5</span>
                    </div>
                </div>
            </div>
            
            <div class="card tutorial-card">
                <div class="tutorial-image" style="background-image: url('https://images.unsplash.com/photo-1547658719-da2b51169166?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1528&q=80');">
                    <span class="tutorial-difficulty intermediate">Intermediate</span>
                </div>
                <div class="card-body">
                    <h3 class="tutorial-title">React Hooks Mastery</h3>
                    <p class="tutorial-description">Dive deep into React Hooks with useState, useEffect, useContext and custom hooks for modern React development.</p>
                    <div class="tutorial-meta">
                        <span><i class="far fa-clock"></i> 3h 30m</span>
                        <span><i class="far fa-star"></i> 4.9/5</span>
                    </div>
                </div>
            </div>
            
            <div class="card tutorial-card">
                <div class="tutorial-image" style="background-image: url('https://images.unsplash.com/photo-1542831371-29b0f74f9713?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80');">
                    <span class="tutorial-difficulty beginner">Beginner</span>
                </div>
                <div class="card-body">
                    <h3 class="tutorial-title">HTML & CSS Crash Course</h3>
                    <p class="tutorial-description">Build your first website with this hands-on tutorial covering all the HTML and CSS basics you need to know.</p>
                    <div class="tutorial-meta">
                        <span><i class="far fa-clock"></i> 1h 45m</span>
                        <span><i class="far fa-star"></i> 4.7/5</span>
                    </div>
                </div>
            </div>
            
            <div class="card tutorial-card">
                <div class="tutorial-image" style="background-image: url('https://images.unsplash.com/photo-1549692520-acc6669e2f0c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1374&q=80');">
                    <span class="tutorial-difficulty advanced">Advanced</span>
                </div>
                <div class="card-body">
                    <h3 class="tutorial-title">Algorithm Optimization</h3>
                    <p class="tutorial-description">Learn advanced techniques to optimize your algorithms and solve complex problems efficiently.</p>
                    <div class="tutorial-meta">
                        <span><i class="far fa-clock"></i> 4h 10m</span>
                        <span><i class="far fa-star"></i> 4.9/5</span>
                    </div>
                </div>
            </div>
            
            <!-- AI Assistant Section -->
            <div class="card input-section">
                <div class="card-header">
                    <h2><i class="fas fa-robot" style="color: var(--secondary);"></i> Tutorial Assistant</h2>
                </div>
                <div class="card-body">
                    <div class="instructions">
                        <i class="fas fa-info-circle"></i>
                        <div>
                            <p><strong>Need help with a tutorial?</strong> Ask our AI assistant any questions about the tutorials or concepts you're learning.</p>
                            <p>We'll help clarify anything that's confusing or provide additional examples.</p>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="questionInput">
                            <i class="fas fa-question"></i>
                            Your Tutorial Question
                        </label>
                        <textarea id="questionInput" placeholder="e.g., Can you explain closures with another example? What's the difference between useState and useEffect?"></textarea>
                    </div>
                    
                    <button id="askButton" class="pulse">
                        <i class="fas fa-paper-plane"></i>
                        Ask Tutorial Assistant
                    </button>
                </div>
            </div>
            
            <div class="card output-section">
                <div class="card-header">
                    <h2><i class="fas fa-graduation-cap" style="color: var(--success);"></i> Assistant Response</h2>
                </div>
                <div class="card-body">
                    <div class="loading-indicator" id="loadingIndicator">
                        <div class="spinner"></div>
                        <p>Analyzing your question and preparing the best explanation...</p>
                    </div>
                    
                    <div class="output-container">
                        <div id="outputArea">
                            <p>Welcome to the Tutorial Assistant! I'm here to help you understand any concepts from the tutorials.</p>
                            <p>You can ask me about:</p>
                            <ul>
                                <li>Explanations of specific concepts</li>
                                <li>Additional examples for better understanding</li>
                                <li>Clarification on tutorial content</li>
                                <li>Related concepts to explore</li>
                                <li>Best practices for implementation</li>
                            </ul>
                            <p>Try asking: <code>"Can you show another example of React useState?"</code> or <code>"Explain async/await with a real-world analogy"</code></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // DOM Elements
        const questionInput = document.getElementById('questionInput');
        const askButton = document.getElementById('askButton');
        const outputArea = document.getElementById('outputArea');
        const loadingIndicator = document.getElementById('loadingIndicator');
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const sidebar = document.getElementById('sidebar');
        const settingsBtn = document.getElementById('settingsBtn');

        // Gemini API Configuration
        const GEMINI_API_KEY = "AIzaSyBezexGsL0VDO_L7mNXfepbIjj4gz14F5s"; // YOUR ACTUAL API KEY
        const MODEL_NAME = "gemini-1.5-flash";
        const systemInstructionText = "You are a Tutorial Assistant specialized in explaining programming concepts from tutorials. Provide clear, concise explanations with practical examples. If the question is not related to programming tutorials, politely redirect to ask about tutorial content.";

        // Initialize the app
        function init() {
            // Set up event listeners
            setupEventListeners();
        }

        // Set up event listeners
        function setupEventListeners() {
            // Ask button click
            askButton.addEventListener('click', askQuestion);
            
            // Enter key in textarea
            questionInput.addEventListener('keypress', function(event) {
                if (event.key === 'Enter' && !event.shiftKey) {
                    event.preventDefault();
                    askQuestion();
                }
            });
            
            // Mobile menu button
            mobileMenuBtn.addEventListener('click', toggleSidebar);
            
            // Settings button
            settingsBtn.addEventListener('click', function() {
                window.location.href = 'index.html#settingsSection';
            });
        }

        // Toggle sidebar on mobile
        function toggleSidebar() {
            sidebar.classList.toggle('open');
        }

        // Ask question to AI
        async function askQuestion() {
            const question = questionInput.value.trim();

            if (!question) {
                outputArea.innerHTML = '<div class="error-message"><i class="fas fa-exclamation-circle"></i> Please enter a question first!</div>';
                return;
            }
            
            // Clear and show loading
            outputArea.innerHTML = '';
            loadingIndicator.style.display = 'block';
            askButton.disabled = true;

            const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/${MODEL_NAME}:generateContent?key=${GEMINI_API_KEY}`;

            const requestBody = {
                contents: [
                    {
                        role: "user",
                        parts: [
                            { text: question }
                        ]
                    }
                ],
                systemInstruction: {
                    parts: [
                        { text: systemInstructionText }
                    ]
                }
            };

            try {
                const response = await fetch(API_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(requestBody),
                });

                if (!response.ok) {
                    throw new Error(`API Error: ${response.status}`);
                }

                const data = await response.json();

                if (data.candidates && data.candidates.length > 0 &&
                    data.candidates[0].content && data.candidates[0].content.parts && data.candidates[0].content.parts.length > 0) {
                    const answerText = data.candidates[0].content.parts[0].text;
                    
                    // Format the response with code highlighting
                    let formattedText = answerText;
                    
                    // Simple formatting: wrap code snippets in <code> tags
                    formattedText = formattedText.replace(/(```[\s\S]*?```)|(`[^`]+`)/g, (match) => {
                        if (match.startsWith('```')) {
                            return `<pre><code>${match.replace(/```/g, '')}</code></pre>`;
                        } else {
                            return `<code>${match.replace(/`/g, '')}</code>`;
                        }
                    });
                    
                    // Convert line breaks to paragraphs for better readability
                    const paragraphs = formattedText.split('\n\n');
                    let htmlOutput = '';
                    
                    for (const paragraph of paragraphs) {
                        if (paragraph.trim() !== '') {
                            htmlOutput += `<p>${paragraph}</p>`;
                        }
                    }
                    
                    outputArea.innerHTML = htmlOutput;
                } else {
                    console.warn("Unexpected response structure:", data);
                    outputArea.innerHTML = '<div class="error-message"><i class="fas fa-exclamation-triangle"></i> Received an unexpected response structure from the AI.</div>';
                }

            } catch (error) {
                console.error('Error:', error);
                outputArea.innerHTML = `<div class="error-message"><i class="fas fa-bug"></i> Failed to get answer: ${error.message}</div>`;
            } finally {
                askButton.disabled = false;
                loadingIndicator.style.display = 'none';
            }
        }

        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);

        // Demo functionality for tutorial cards
        document.querySelectorAll('.tutorial-card').forEach(card => {
            card.addEventListener('click', function(e) {
                // Don't navigate if clicking on something inside the card that has its own click handler
                if (e.target.tagName === 'BUTTON' || e.target.tagName === 'A' || e.target.closest('button') || e.target.closest('a')) {
                    return;
                }
                
                // In a real app, this would navigate to the tutorial
                const title = this.querySelector('.tutorial-title').textContent;
                outputArea.innerHTML = `
                    <p>Opening tutorial: <strong>${title}</strong></p>
                    <p>In a real application, this would navigate to the full tutorial content.</p>
                    <p>For this demo, you can ask questions about this tutorial using the assistant above.</p>
                `;
            });
        });
    </script>
</body>
</html>