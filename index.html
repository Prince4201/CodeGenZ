<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeGenZ AI | Your Coding Sidekick</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Space+Grotesk:wght@500;600&display=swap">
    <link rel="icon" type="image/png" href="logo.png">
    <style>
        :root {
            --primary: #7e6fff;
            --primary-light: #a594ff;
            --primary-dark: #6a5af9;
            --secondary: #00d4ff;
            --accent: #ff4d88;
            --dark-bg: #0f0f15;
            --darker-bg: #0a0a0f;
            --card-bg: #1a1a24;
            --card-hover: #222230;
            --border: #2d2d3a;
            --text-primary: #f0f0ff;
            --text-secondary: #b8b8d0;
            --success: #00ffaa;
            --warning: #ffcc00;
            --danger: #ff4d4d;
            --code-bg: #12121a;
            --sidebar-width: 280px;
            --transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.1);
            --genz-font: 'Space Grotesk', sans-serif;
            --main-font: 'Poppins', sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: var(--main-font);
        }

        body {
            background-color: var(--dark-bg);
            color: var(--text-primary);
            display: flex;
            min-height: 100vh;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(126, 111, 255, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(0, 212, 255, 0.1) 0%, transparent 20%);
        }

        /* Sidebar - GenZ Glassmorphism */
        .sidebar {
            width: var(--sidebar-width);
            background: rgba(15, 15, 21, 0.8);
            backdrop-filter: blur(10px);
            height: 100vh;
            position: fixed;
            left: 0;
            top: 0;
            padding: 20px 0;
            border-right: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            z-index: 100;
            transition: var(--transition);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 0 20px 20px;
            margin-bottom: 20px;
            border-bottom: 1px solid var(--border);
        }

        .logo-icon {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            width: 42px;
            height: 42px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            flex-shrink: 0;
        }

        .logo-text {
            font-size: 1.5rem;
            font-weight: 700;
            font-family: var(--genz-font);
            background: linear-gradient(to right, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -0.5px;
        }

        .sidebar-menu {
            padding: 0 10px;
            flex-grow: 1;
            overflow-y: auto;
        }

        .menu-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 16px;
            border-radius: 10px;
            margin-bottom: 6px;
            cursor: pointer;
            transition: var(--transition);
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        .menu-item:hover {
            background: rgba(126, 111, 255, 0.15);
            color: var(--primary-light);
            transform: translateX(5px);
        }

        .menu-item.active {
            background: rgba(126, 111, 255, 0.2);
            color: var(--primary);
            font-weight: 500;
            border-left: 3px solid var(--primary);
        }

        .menu-item i {
            width: 22px;
            text-align: center;
            font-size: 1rem;
        }

        .sidebar-footer {
            padding: 15px 20px 0;
            border-top: 1px solid var(--border);
            color: var(--text-secondary);
            font-size: 0.8rem;
            margin-top: auto;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: var(--sidebar-width);
            padding: 25px;
            transition: var(--transition);
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .header h1 {
            font-size: 2rem;
            font-weight: 700;
            font-family: var(--genz-font);
            background: linear-gradient(to right, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -0.5px;
        }

        .user-controls {
            display: flex;
            gap: 12px;
        }

        .btn {
            background: rgba(26, 26, 36, 0.8);
            border: 1px solid var(--border);
            color: var(--text-primary);
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: var(--transition);
            font-size: 0.9rem;
            backdrop-filter: blur(5px);
        }

        .btn:hover {
            background: rgba(126, 111, 255, 0.15);
            border-color: var(--primary);
            transform: translateY(-2px);
        }

        .btn i {
            font-size: 0.9rem;
        }

        /* Dashboard Grid */
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .card {
            background: var(--card-bg);
            border-radius: 16px;
            border: 1px solid var(--border);
            overflow: hidden;
            transition: var(--transition);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.3);
            background: var(--card-hover);
        }

        .card-header {
            padding: 18px 22px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .card-header h2 {
            font-size: 1.2rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
            font-family: var(--genz-font);
        }

        .card-body {
            padding: 22px;
        }

        /* Input Section */
        .input-section {
            grid-column: span 2;
        }

        .instructions {
            background: rgba(26, 26, 36, 0.7);
            border-left: 4px solid var(--primary);
            padding: 16px 18px;
            border-radius: 12px;
            margin-bottom: 20px;
            display: flex;
            gap: 12px;
            backdrop-filter: blur(5px);
        }

        .instructions i {
            color: var(--primary);
            font-size: 1.2rem;
            margin-top: 3px;
            flex-shrink: 0;
        }

        .instructions p {
            margin-bottom: 8px;
            color: var(--text-primary);
            line-height: 1.6;
            font-size: 0.95rem;
        }

        .instructions strong {
            color: var(--primary-light);
        }

        .form-group {
            margin-bottom: 18px;
        }

        label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1rem;
        }

        textarea#questionInput {
            width: 100%;
            padding: 16px;
            border: 1px solid var(--border);
            border-radius: 12px;
            font-size: 15px;
            min-height: 140px;
            resize: vertical;
            transition: var(--transition);
            background: rgba(26, 26, 36, 0.7);
            color: var(--text-primary);
            font-family: 'Fira Code', monospace;
            backdrop-filter: blur(5px);
        }

        textarea#questionInput:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(126, 111, 255, 0.2);
        }

        textarea#questionInput::placeholder {
            color: #6b6b8a;
            font-family: var(--main-font);
        }

        button#askButton {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 16px 22px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            width: 100%;
            box-shadow: 0 4px 15px rgba(126, 111, 255, 0.3);
            font-family: var(--genz-font);
            letter-spacing: 0.5px;
        }

        button#askButton:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(126, 111, 255, 0.4);
            background: linear-gradient(135deg, var(--primary-light), var(--primary));
        }

        button#askButton:active {
            transform: translateY(0);
        }

        button#askButton:disabled {
            background: #6b6b8a;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Output Section */
        .output-section {
            grid-column: span 2;
        }

        .output-container {
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid var(--border);
            background: rgba(26, 26, 36, 0.7);
            backdrop-filter: blur(5px);
        }

        #outputArea {
            padding: 25px;
            min-height: 250px;
            white-space: pre-wrap;
            word-wrap: break-word;
            line-height: 1.7;
            font-size: 15px;
            background: transparent;
            max-height: 500px;
            overflow-y: auto;
        }

        #outputArea::-webkit-scrollbar {
            width: 8px;
        }

        #outputArea::-webkit-scrollbar-track {
            background: rgba(26, 26, 36, 0.5);
            border-radius: 4px;
        }

        #outputArea::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 4px;
        }

        #outputArea p {
            margin-bottom: 16px;
        }

        #outputArea code {
            background: var(--code-bg);
            color: var(--secondary);
            padding: 2px 8px;
            border-radius: 6px;
            font-family: 'Fira Code', monospace;
            font-size: 14px;
            display: inline-block;
            margin: 4px 0;
        }

        #outputArea pre {
            background: var(--code-bg);
            padding: 12px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 12px 0;
            border: 1px solid var(--border);
        }

        #outputArea pre code {
            background: transparent;
            padding: 0;
            color: var(--text-primary);
        }

        .loading-indicator {
            text-align: center;
            padding: 25px;
            display: none;
        }

        .spinner {
            width: 45px;
            height: 45px;
            border: 4px solid rgba(126, 111, 255, 0.2);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .error-message {
            color: var(--danger);
            background: rgba(255, 77, 77, 0.1);
            padding: 16px;
            border-radius: 12px;
            margin: 12px 0;
            border-left: 4px solid var(--danger);
            font-weight: 500;
            display: flex;
            gap: 10px;
            align-items: center;
            font-size: 0.95rem;
        }

        .error-message i {
            font-size: 1.2rem;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 16px;
            margin-top: 20px;
        }

        .stat-card {
            background: rgba(26, 26, 36, 0.8);
            border-radius: 12px;
            padding: 18px;
            border: 1px solid var(--border);
            text-align: center;
            transition: var(--transition);
            backdrop-filter: blur(5px);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 8px 20px rgba(126, 111, 255, 0.2);
        }

        .stat-value {
            font-size: 2.2rem;
            font-weight: 700;
            font-family: var(--genz-font);
            background: linear-gradient(to right, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 8px 0;
            letter-spacing: -1px;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* History Section */
        .history-item {
            padding: 14px;
            border-radius: 10px;
            margin-bottom: 10px;
            background: rgba(26, 26, 36, 0.7);
            border-left: 3px solid var(--primary);
            cursor: pointer;
            transition: var(--transition);
        }

        .history-item:hover {
            background: rgba(126, 111, 255, 0.1);
            transform: translateX(5px);
        }

        .history-question {
            font-weight: 500;
            margin-bottom: 5px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .history-date {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        /* Settings Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(10, 10, 15, 0.8);
            backdrop-filter: blur(5px);
            z-index: 1000;
            display: none;
            justify-content: center;
            align-items: center;
        }

        .modal {
            background: var(--card-bg);
            border-radius: 16px;
            border: 1px solid var(--border);
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
            transform: translateY(20px);
            opacity: 0;
            transition: all 0.3s ease-out;
        }

        .modal.show {
            transform: translateY(0);
            opacity: 1;
        }

        .modal-header {
            padding: 18px 22px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h3 {
            font-size: 1.3rem;
            font-weight: 600;
            font-family: var(--genz-font);
        }

        .modal-close {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 1.5rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .modal-close:hover {
            color: var(--danger);
            transform: rotate(90deg);
        }

        .modal-body {
            padding: 22px;
        }

        .setting-group {
            margin-bottom: 20px;
        }

        .setting-group h4 {
            margin-bottom: 12px;
            font-size: 1rem;
            color: var(--primary-light);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .setting-group h4 i {
            font-size: 1rem;
        }

        select, input[type="range"] {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            background: rgba(26, 26, 36, 0.8);
            border: 1px solid var(--border);
            color: var(--text-primary);
            font-family: var(--main-font);
        }

        select {
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23b8b8d0' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 16px;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--border);
            transition: .4s;
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--primary);
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        .toggle-label {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
            font-size: 0.95rem;
        }

        .modal-footer {
            padding: 15px 22px;
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: flex-end;
            gap: 12px;
        }

        /* Mobile Menu Button */
        .mobile-menu-btn {
            display: none;
            position: fixed;
            top: 15px;
            left: 15px;
            z-index: 101;
            background: var(--primary);
            color: white;
            width: 45px;
            height: 45px;
            border-radius: 12px;
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(126, 111, 255, 0.4);
            transition: var(--transition);
        }

        .mobile-menu-btn:hover {
            transform: scale(1.1);
        }

        /* Responsive Design */
        @media (max-width: 1100px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .input-section, .output-section {
                grid-column: span 1;
            }
        }

        @media (max-width: 900px) {
            .sidebar {
                transform: translateX(-100%);
                opacity: 0;
                z-index: 100;
            }
            
            .sidebar.open {
                transform: translateX(0);
                opacity: 1;
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .mobile-menu-btn {
                display: flex;
                align-items: center;
                justify-content: center;
            }
        }

        @media (max-width: 600px) {
            .main-content {
                padding: 20px 15px;
            }
            
            .header h1 {
                font-size: 1.7rem;
            }
            
            .stats {
                grid-template-columns: 1fr;
            }
            
            .card-header h2 {
                font-size: 1.1rem;
            }
            
            .modal {
                width: 95%;
            }
        }

        @media (max-width: 400px) {
            .user-controls {
                width: 100%;
            }
            
            .btn {
                flex: 1;
                justify-content: center;
            }
        }

        /* Gen-Z Animations */
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .floating {
            animation: float 3s ease-in-out infinite;
        }

        /* Pulse animation for interactive elements */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .pulse:hover {
            animation: pulse 1.5s infinite;
        }
    </style>
</head>
<body>
    <!-- Mobile Menu Button -->
    <button class="mobile-menu-btn" id="mobileMenuBtn">
        <i class="fas fa-bars"></i>
    </button>
    
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="logo">
            <div class="logo-icon floating">
                <i class="fas fa-robot"></i>
            </div>
            <div class="logo-text">CodeGenZ</div>
        </div>
        
        <div class="sidebar-menu">
            <div class="menu-item active" data-section="dashboard">
                <i class="fas fa-home"></i>
                <span class="menu-text">Dashboard</span>
            </div>
            <div class="menu-item" data-section="history">
                <i class="fas fa-history"></i>
                <span class="menu-text">History</span>
            </div>
            <div class="menu-item" data-section="tutorials">
                <i class="fas fa-book"></i>
                <span class="menu-text">Tutorials</span>
            </div>
            <div class="menu-item" data-section="playground">
                <i class="fas fa-code"></i>
                <span class="menu-text">Playground</span>
            </div>
            <div class="menu-item" id="settingsBtn">
                <i class="fas fa-cog"></i>
                <span class="menu-text">Settings</span>
            </div>
        </div>
        
        <div class="sidebar-footer">
            <p>CodeGenZ AI v3.0</p>
            <p>Powered by API | <b>Prince Jaiswal</b></p>
        </div>
    </div>
    
    <!-- Main Content -->
    <div class="main-content">
        <!-- Dashboard Section (Default) -->
        <div class="content-section" id="dashboardSection">
            <div class="header">
                <h1>Your Coding Sidekick</h1>
                <div class="user-controls">
                    <button class="btn">
                        <i class="fas fa-moon"></i>
                        <span>Dark Mode</span>
                    </button>
                    <button class="btn">
                        <i class="fas fa-user"></i>
                        <span>Profile</span>
                    </button>
                </div>
            </div>
            
            <div class="dashboard">
                <!-- Stats Cards -->
                <div class="card">
                    <div class="card-body">
                        <div class="stats">
                            <div class="stat-card">
                                <i class="fas fa-code-branch" style="color: var(--primary);"></i>
                                <div class="stat-value">1,248</div>
                                <div class="stat-label">Questions Solved</div>
                            </div>
                            <div class="stat-card">
                                <i class="fas fa-language" style="color: var(--accent);"></i>
                                <div class="stat-value">24</div>
                                <div class="stat-label">Languages</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <h2><i class="fas fa-fire" style="color: var(--warning);"></i> Hot Topics</h2>
                    </div>
                    <div class="card-body">
                        <ul style="list-style-type: none; line-height: 2.2;">
                            <li><i class="fas fa-chevron-right" style="color: var(--primary); margin-right: 10px;"></i> JavaScript Closures</li>
                            <li><i class="fas fa-chevron-right" style="color: var(--primary); margin-right: 10px;"></i> Python Decorators</li>
                            <li><i class="fas fa-chevron-right" style="color: var(--primary); margin-right: 10px;"></i> React Hooks</li>
                            <li><i class="fas fa-chevron-right" style="color: var(--primary); margin-right: 10px;"></i> Recursion Patterns</li>
                            <li><i class="fas fa-chevron-right" style="color: var(--primary); margin-right: 10px;"></i> Async/Await</li>
                        </ul>
                    </div>
                </div>
                
                <!-- Input Section -->
                <div class="card input-section">
                    <div class="card-header">
                        <h2><i class="fas fa-question-circle" style="color: var(--secondary);"></i> Ask a Coding Question</h2>
                    </div>
                    <div class="card-body">
                        <div class="instructions">
                            <i class="fas fa-info-circle"></i>
                            <div>
                                <p><strong>How to use:</strong> Ask any coding-related question in any programming language. The AI is specialized to help with coding problems and concepts.</p>
                                <p>For non-coding questions, responses may be unpredictable!</p>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="questionInput">
                                <i class="fas fa-terminal"></i>
                                Your Coding Question
                            </label>
                            <textarea id="questionInput" placeholder="e.g., Explain closures in JavaScript, How to implement binary search in Python, What is recursion?"></textarea>
                        </div>
                        
                        <button id="askButton" class="pulse">
                            <i class="fas fa-paper-plane"></i>
                            Ask CodeGenZ
                        </button>
                    </div>
                </div>
                
                <!-- Output Section -->
                <div class="card output-section">
                    <div class="card-header">
                        <h2><i class="fas fa-graduation-cap" style="color: var(--success);"></i> AI Response</h2>
                    </div>
                    <div class="card-body">
                        <div class="loading-indicator" id="loadingIndicator">
                            <div class="spinner"></div>
                            <p>Analyzing your question and preparing the best explanation...</p>
                        </div>
                        
                        <div class="output-container">
                            <div id="outputArea">
                                <p>Welcome to CodeGenZ AI! I'm your coding sidekick here to help you with any programming questions you have.</p>
                                <p>Ask me about:</p>
                                <ul>
                                    <li>Programming concepts (OOP, recursion, closures)</li>
                                    <li>Language-specific questions (JavaScript, Python, Java)</li>
                                    <li>Algorithm explanations</li>
                                    <li>Code debugging</li>
                                    <li>Best practices</li>
                                </ul>
                                <p>Try asking: <code>"Explain how promises work in JavaScript"</code> or <code>"Show me a Python implementation of quicksort"</code></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- History Section -->
        <div class="content-section" id="historySection" style="display: none;">
            <div class="header">
                <h1>Question History</h1>
                <div class="user-controls">
                    <button class="btn" id="clearHistoryBtn">
                        <i class="fas fa-trash"></i>
                        <span>Clear All</span>
                    </button>
                </div>
            </div>
            
            <div class="dashboard">
                <div class="card" style="grid-column: span 2;">
                    <div class="card-header">
                        <h2><i class="fas fa-history" style="color: var(--primary);"></i> Recent Questions</h2>
                    </div>
                    <div class="card-body">
                        <div id="historyList">
                            <!-- History items will be added here dynamically -->
                            <div class="history-empty" style="text-align: center; padding: 30px; color: var(--text-secondary);">
                                <i class="fas fa-history" style="font-size: 2rem; margin-bottom: 15px;"></i>
                                <p>Your question history will appear here</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Tutorials Section -->
        <div class="content-section" id="tutorialsSection" style="display: none;">
            <div class="header">
                <h1>Learn to Code</h1>
                <div class="user-controls">
                    <button class="btn">
                        <i class="fas fa-search"></i>
                        <span>Search</span>
                    </button>
                </div>
            </div>
            
            <div class="dashboard">
                <div class="card" style="grid-column: span 2;">
                    <div class="card-header">
                        <h2><i class="fas fa-book" style="color: var(--secondary);"></i> Tutorials & Guides</h2>
                    </div>
                    <div class="card-body">
                        <div style="text-align: center; padding: 40px;">
                            <i class="fas fa-book-open" style="font-size: 3rem; color: var(--primary); margin-bottom: 20px;"></i>
                            <h3 style="margin-bottom: 15px; font-family: var(--genz-font);">Tutorials Coming Soon!</h3>
                            <p style="color: var(--text-secondary);">We're working on awesome coding tutorials that will help you level up your skills.</p>
                            <button class="btn" style="margin-top: 20px; width: auto;" onclick="window.location.href='tutorial.html'">
                                <i class="fas fa-external-link-alt"></i>
                                <span>View Full Tutorials</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Playground Section -->
        <div class="content-section" id="playgroundSection" style="display: none;">
            <div class="header">
                <h1>Code Playground</h1>
                <div class="user-controls">
                    <button class="btn">
                        <i class="fas fa-plus"></i>
                        <span>New</span>
                    </button>
                </div>
            </div>
            
            <div class="dashboard">
                <div class="card" style="grid-column: span 2;">
                    <div class="card-header">
                        <h2><i class="fas fa-code" style="color: var(--success);"></i> Interactive Playground</h2>
                    </div>
                    <div class="card-body">
                        <div style="text-align: center; padding: 40px;">
                            <i class="fas fa-laptop-code" style="font-size: 3rem; color: var(--primary); margin-bottom: 20px;"></i>
                            <h3 style="margin-bottom: 15px; font-family: var(--genz-font);">Code Playground</h3>
                            <p style="color: var(--text-secondary);">Experiment with code in a live environment with our interactive playground.</p>
                            <button class="btn" style="margin-top: 20px; width: auto;" onclick="window.location.href='playground.html'">
                                <i class="fas fa-external-link-alt"></i>
                                <span>Open Playground</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Settings Modal -->
    <div class="modal-overlay" id="settingsModal">
        <div class="modal" id="modal">
            <div class="modal-header">
                <h3><i class="fas fa-cog" style="color: var(--primary); margin-right: 10px;"></i> Settings</h3>
                <button class="modal-close" id="modalClose">&times;</button>
            </div>
            <div class="modal-body">
                <div class="setting-group">
                    <h4><i class="fas fa-language"></i> Language Settings</h4>
                    <div class="form-group">
                        <label for="languageSelect">Interface Language</label>
                        <select id="languageSelect">
                            <option value="en">English</option>
                            <option value="es">Spanish</option>
                            <option value="fr">French</option>
                            <option value="de">German</option>
                            <option value="ja">Japanese</option>
                            <option value="zh">Chinese</option>
                            <option value="hi">Hindi</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="codeLanguage">Default Code Language</label>
                        <select id="codeLanguage">
                            <option value="javascript">JavaScript</option>
                            <option value="python">Python</option>
                            <option value="java">Java</option>
                            <option value="csharp">C#</option>
                            <option value="php">PHP</option>
                            <option value="cpp">C++</option>
                            <option value="go">Go</option>
                            <option value="ruby">Ruby</option>
                            <option value="swift">Swift</option>
                        </select>
                    </div>
                </div>
                
                <div class="setting-group">
                    <h4><i class="fas fa-paint-brush"></i> Appearance</h4>
                    <div class="toggle-label">
                        <span>Dark Mode</span>
                        <label class="toggle-switch">
                            <input type="checkbox" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="toggle-label">
                        <span>Animations</span>
                        <label class="toggle-switch">
                            <input type="checkbox" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
                
                <div class="setting-group">
                    <h4><i class="fas fa-robot"></i> AI Settings</h4>
                    <div class="form-group">
                        <label for="aiModel">AI Model</label>
                        <select id="aiModel">
                            <option value="gemini-flash">Gemini 1.5 Flash (Fast)</option>
                            <option value="gemini-pro">Gemini 1.5 Pro (Balanced)</option>
                            <option value="gemini-ultra">Gemini 1.5 Ultra (Advanced)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="responseLength">Response Length</label>
                        <input type="range" id="responseLength" min="1" max="5" value="3">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" id="cancelSettings">
                    <i class="fas fa-times"></i>
                    <span>Cancel</span>
                </button>
                <button class="btn" style="background: var(--primary);" id="saveSettings">
                    <i class="fas fa-save"></i>
                    <span>Save Changes</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        // DOM Elements
        const questionInput = document.getElementById('questionInput');
        const askButton = document.getElementById('askButton');
        const outputArea = document.getElementById('outputArea');
        const loadingIndicator = document.getElementById('loadingIndicator');
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const sidebar = document.getElementById('sidebar');
        const contentSections = document.querySelectorAll('.content-section');
        const menuItems = document.querySelectorAll('.menu-item');
        const settingsBtn = document.getElementById('settingsBtn');
        const settingsModal = document.getElementById('settingsModal');
        const modal = document.getElementById('modal');
        const modalClose = document.getElementById('modalClose');
        const cancelSettings = document.getElementById('cancelSettings');
        const saveSettings = document.getElementById('saveSettings');
        const historyList = document.getElementById('historyList');
        const clearHistoryBtn = document.getElementById('clearHistoryBtn');

        // Gemini API Configuration
        const GEMINI_API_KEY = "AIzaSyBezexGsL0VDO_L7mNXfepbIjj4gz14F5s"; // YOUR ACTUAL API KEY
        const MODEL_NAME = "gemini-1.5-flash"; // Or your preferred model
        const systemInstructionText = "You are a Coding Instructor, who answer only to coding related problem. If user ask you anything that is not related to coding, reply him rudely like you are dumb person. But if he/she ask problem related to coding response in a detail manner.";

        // History storage
        let questionHistory = JSON.parse(localStorage.getItem('questionHistory')) || [];

        // Initialize the app
        function init() {
            // Load history if any exists
            if (questionHistory.length > 0) {
                renderHistory();
            }
            
            // Set up event listeners
            setupEventListeners();
        }

        // Set up all event listeners
        function setupEventListeners() {
            // Ask button click
            askButton.addEventListener('click', askQuestion);
            
            // Enter key in textarea
            questionInput.addEventListener('keypress', function(event) {
                if (event.key === 'Enter' && !event.shiftKey) {
                    event.preventDefault();
                    askQuestion();
                }
            });
            
            // Mobile menu button
            mobileMenuBtn.addEventListener('click', toggleSidebar);
            
            // Menu items for section switching
            menuItems.forEach(item => {
                item.addEventListener('click', function() {
                    // Remove active class from all menu items
                    menuItems.forEach(i => i.classList.remove('active'));
                    // Add active class to clicked item
                    this.classList.add('active');
                    
                    // Show the corresponding section
                    const section = this.getAttribute('data-section');
                    showSection(section);
                    
                    // Close sidebar on mobile after selection
                    if (window.innerWidth <= 900) {
                        sidebar.classList.remove('open');
                    }
                });
            });
            
            // Settings button
            settingsBtn.addEventListener('click', openSettings);
            
            // Modal controls
            modalClose.addEventListener('click', closeSettings);
            cancelSettings.addEventListener('click', closeSettings);
            saveSettings.addEventListener('click', saveSettingsHandler);
            
            // Clear history button
            clearHistoryBtn.addEventListener('click', clearHistory);
        }

        // Toggle sidebar on mobile
        function toggleSidebar() {
            sidebar.classList.toggle('open');
        }

        // Show specific content section
        function showSection(sectionId) {
            contentSections.forEach(section => {
                section.style.display = 'none';
            });
            
            document.getElementById(`${sectionId}Section`).style.display = 'block';
        }

        // Ask question to AI
        async function askQuestion() {
            const question = questionInput.value.trim();

            if (!question) {
                outputArea.innerHTML = '<div class="error-message"><i class="fas fa-exclamation-circle"></i> Please enter a coding question first!</div>';
                return;
            }

            // Save to history
            saveToHistory(question);
            
            // Clear and show loading
            outputArea.innerHTML = '';
            loadingIndicator.style.display = 'block';
            askButton.disabled = true;

            const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/${MODEL_NAME}:generateContent?key=${GEMINI_API_KEY}`;

            const requestBody = {
                contents: [
                    {
                        role: "user",
                        parts: [
                            { text: question }
                        ]
                    }
                ],
                systemInstruction: {
                    parts: [
                        { text: systemInstructionText }
                    ]
                }
            };

            try {
                const response = await fetch(API_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(requestBody),
                });

                if (!response.ok) {
                    let errorMsg = `API Error: ${response.status}`;
                    let errorDetails = "Could not retrieve error details.";
                    try {
                        const errorData = await response.json();
                        if (errorData.error && errorData.error.message) {
                           errorDetails = errorData.error.message;
                        }
                        errorMsg = `${errorMsg} - ${errorDetails}`;
                        if (errorData.error && errorData.error.status) {
                            errorMsg += ` (Status: ${errorData.error.status})`;
                        }
                        // Check for API key specific issues
                        if (errorDetails.toLowerCase().includes("api key not valid") || errorDetails.toLowerCase().includes("permission denied")) {
                            errorMsg += "<br><strong>Please double-check your API key and ensure it's correctly enabled for the Gemini API in your Google Cloud Console or AI Studio.</strong>";
                        }

                    } catch (parseError) {
                        errorMsg = `${errorMsg} (Could not parse error response: ${response.statusText})`;
                    }
                    throw new Error(errorMsg);
                }

                const data = await response.json();

                if (data.candidates && data.candidates.length > 0 &&
                    data.candidates[0].content && data.candidates[0].content.parts && data.candidates[0].content.parts.length > 0) {
                    const answerText = data.candidates[0].content.parts[0].text;
                    
                    // Format the response with code highlighting
                    let formattedText = answerText;
                    
                    // Simple formatting: wrap code snippets in <code> tags
                    formattedText = formattedText.replace(/(```[\s\S]*?```)|(`[^`]+`)/g, (match) => {
                        if (match.startsWith('```')) {
                            return `<pre><code>${match.replace(/```/g, '')}</code></pre>`;
                        } else {
                            return `<code>${match.replace(/`/g, '')}</code>`;
                        }
                    });
                    
                    // Convert line breaks to paragraphs for better readability
                    const paragraphs = formattedText.split('\n\n');
                    let htmlOutput = '';
                    
                    for (const paragraph of paragraphs) {
                        if (paragraph.trim() !== '') {
                            htmlOutput += `<p>${paragraph}</p>`;
                        }
                    }
                    
                    outputArea.innerHTML = htmlOutput;
                } else if (data.promptFeedback && data.promptFeedback.blockReason) {
                     outputArea.innerHTML = `<div class="error-message"><i class="fas fa-ban"></i> Blocked due to: ${data.promptFeedback.blockReason}. Details: ${data.promptFeedback.blockReasonMessage || ''}</div>`;
                } else {
                    console.warn("Unexpected response structure:", data);
                    outputArea.innerHTML = '<div class="error-message"><i class="fas fa-exclamation-triangle"></i> Received an unexpected response structure from the AI.</div>';
                }

            } catch (error) {
                console.error('Frontend Error:', error);
                outputArea.innerHTML = `<div class="error-message"><i class="fas fa-bug"></i> Failed to get answer: ${error.message}</div>`;
            } finally {
                askButton.disabled = false;
                loadingIndicator.style.display = 'none';
            }
        }

        // Save question to history
        function saveToHistory(question) {
            const historyItem = {
                question: question,
                date: new Date().toISOString()
            };
            
            // Add to beginning of array
            questionHistory.unshift(historyItem);
            
            // Keep only last 50 items
            if (questionHistory.length > 50) {
                questionHistory = questionHistory.slice(0, 50);
            }
            
            // Save to localStorage
            localStorage.setItem('questionHistory', JSON.stringify(questionHistory));
            
            // Update history display
            renderHistory();
        }

        // Render history list
        function renderHistory() {
            if (questionHistory.length === 0) {
                historyList.innerHTML = `
                    <div class="history-empty" style="text-align: center; padding: 30px; color: var(--text-secondary);">
                        <i class="fas fa-history" style="font-size: 2rem; margin-bottom: 15px;"></i>
                        <p>Your question history will appear here</p>
                    </div>
                `;
                return;
            }
            
            let html = '';
            
            questionHistory.forEach((item, index) => {
                const date = new Date(item.date);
                const formattedDate = date.toLocaleString();
                
                html += `
                    <div class="history-item" data-index="${index}">
                        <div class="history-question">${item.question}</div>
                        <div class="history-date">${formattedDate}</div>
                    </div>
                `;
            });
            
            historyList.innerHTML = html;
            
            // Add click event to history items
            document.querySelectorAll('.history-item').forEach(item => {
                item.addEventListener('click', function() {
                    const index = this.getAttribute('data-index');
                    loadHistoryQuestion(index);
                });
            });
        }

        // Load question from history
        function loadHistoryQuestion(index) {
            const question = questionHistory[index].question;
            questionInput.value = question;
            
            // Switch to dashboard section
            showSection('dashboard');
            document.querySelector('.menu-item[data-section="dashboard"]').classList.add('active');
            document.querySelector('.menu-item[data-section="history"]').classList.remove('active');
            
            // Scroll to input
            questionInput.focus();
        }

        // Clear history
        function clearHistory() {
            if (confirm('Are you sure you want to clear your question history?')) {
                questionHistory = [];
                localStorage.removeItem('questionHistory');
                renderHistory();
            }
        }

        // Open settings modal
        function openSettings() {
            settingsModal.style.display = 'flex';
            setTimeout(() => {
                modal.classList.add('show');
            }, 10);
        }

        // Close settings modal
        function closeSettings() {
            modal.classList.remove('show');
            setTimeout(() => {
                settingsModal.style.display = 'none';
            }, 300);
        }

        // Save settings handler
        function saveSettingsHandler() {
            // In a real app, you would save these settings
            alert('Settings saved! (This is a demo - settings are not actually saved)');
            closeSettings();
        }

        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);

        // Demo functionality for UI elements
        setTimeout(() => {
            outputArea.innerHTML = `
                <p><strong>Welcome to CodeGenZ AI!</strong> I'm your coding sidekick here to help you with any programming questions you have.</p>
                <p>Here's an example of how I can help:</p>
                <p><strong>Question:</strong> What is a closure in JavaScript?</p>
                <p><strong>Answer:</strong> A closure is a function that retains access to variables from its outer (enclosing) scope even after the outer function has finished executing. This happens because the inner function maintains a reference to its lexical environment.</p>
                <p>Example:</p>
                <pre><code>function outer() {
  const outerVar = 'I am outside!';
  
  function inner() {
    console.log(outerVar); // Accesses outerVar from outer function's scope
  }
  
  return inner;
}

const myInner = outer();
myInner(); // Logs "I am outside!"</code></pre>
                <p>In this example, <code>inner()</code> is a closure that "closes over" the <code>outerVar</code> variable.</p>
            `;
        }, 2000);
    </script>
</body>
</html>